@using Sockethead.Razor.Grid;
@model IQueryable<Sockethead.Web.Areas.Samples.Controllers.SampleModel>

@(await Html
    .SimpleGrid(Model)
    .AddColumnsFromModel()
    .AddColumn(column => column.For(model => model.First).Sortable(false))
    .AddColumn(column => column.Label("First").DisplayAs(model => model.First)/*.SortableBy(model => model.First)*/)
    .AddColumn(column => column
        .Label("Full Name")
        .DisplayAs(model => $"{model.Last}, {model.First}"))
    .Sortable()
    .DefaultSortBy(model => model.RandomDate)
    .AddSearch(
        name: "Name",
        searchFilter: (source, query) => source.Where(model =>
            model.First.Contains(query, StringComparison.OrdinalIgnoreCase) ||
            model.Last.Contains(query, StringComparison.OrdinalIgnoreCase) ))
    .AddSearch(
        name: "First Name Match",
        modelFilter: (model, query) => model.First.Equals(query, StringComparison.OrdinalIgnoreCase))
    .RenderAsync()
)
